dependencies {
    implementation project(':common')
    
    // Lombok
    compileOnly 'org.projectlombok:lombok'
    annotationProcessor 'org.projectlombok:lombok'
    
    // Rate Limiting
    implementation 'com.bucket4j:bucket4j-core:8.10.1'
    
    // Test
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testImplementation 'org.springframework.security:spring-security-test'
    testImplementation 'org.mockito:mockito-junit-jupiter:5.7.0'
    testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
    
    // QueryDSL
    annotationProcessor "com.querydsl:querydsl-apt:5.0.0:jakarta"
    annotationProcessor "jakarta.annotation:jakarta.annotation-api"
    annotationProcessor "jakarta.persistence:jakarta.persistence-api"
}

bootJar {
    enabled = true
    archiveFileName = 'api.jar'
    mainClass.set('com.zipline.ApiServerApplication')
}

springBoot {
    mainClass.set('com.zipline.ApiServerApplication')
}

// plugins {
//     id 'java'
//     id 'org.springframework.boot' version '3.4.3'
//     id 'io.spring.dependency-management' version '1.1.7'
// }
//
// group = 'com.zipline'
// version = '0.0.1-SNAPSHOT'
//
// java {
//     toolchain {
//         languageVersion = JavaLanguageVersion.of(17)
//     }
// }
//
// repositories {
//     mavenCentral()
// }
//
// dependencies {
//     implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
//     implementation 'org.springframework.boot:spring-boot-starter-security'
//     implementation 'org.springframework.boot:spring-boot-starter-web'
//     implementation 'org.springframework.boot:spring-boot-starter-data-redis'
//     //JWT aws, secretmanager, githubbucket 의존성 추가
//     implementation 'io.jsonwebtoken:jjwt-api:0.11.5'
//     implementation 'io.jsonwebtoken:jjwt-impl:0.11.5'
//     implementation 'io.jsonwebtoken:jjwt-jackson:0.11.5'
//     implementation 'com.amazonaws:aws-java-sdk-secretsmanager:1.12.429'
//     implementation 'com.bucket4j:bucket4j-core:8.10.1'
//     implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.7.0'
//     implementation 'org.springframework.boot:spring-boot-starter-webflux:3.4.4'
//     implementation 'io.netty:netty-resolver-dns-native-macos:4.1.68.Final:osx-aarch_64'
//     implementation 'org.projectlombok:lombok'
//     implementation 'org.springframework.boot:spring-boot-starter-validation'
//     implementation 'net.minidev:json-smart:2.4.10'
//     implementation 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310'
//     annotationProcessor 'org.projectlombok:lombok'
//     runtimeOnly 'org.mariadb.jdbc:mariadb-java-client'
//     testRuntimeOnly 'org.junit.platform:junit-platform-launcher'
//     testImplementation 'org.springframework.boot:spring-boot-starter-test'
//     testImplementation 'org.springframework.security:spring-security-test'
//     testImplementation 'org.mockito:mockito-junit-jupiter:5.7.0'
//     testImplementation 'com.fasterxml.jackson.core:jackson-databind'
//     // QueryDSL
//     implementation 'com.querydsl:querydsl-jpa:5.0.0:jakarta'
//     annotationProcessor "com.querydsl:querydsl-apt:5.0.0:jakarta"
//     annotationProcessor "jakarta.annotation:jakarta.annotation-api"
//     annotationProcessor "jakarta.persistence:jakarta.persistence-api"
//
//     implementation 'org.springframework.cloud:spring-cloud-starter-aws:2.2.6.RELEASE'
//     implementation 'org.apache.tika:tika-core:2.9.3'
// }
//
// tasks.named('test') {
//     useJUnitPlatform()
// }
//
// tasks.named('bootJar') {
//     archiveFileName = 'app.jar'
// }
//
// def querydslDir = "build/generated/querydsl"
//
// tasks.withType(JavaCompile) {
//     options.generatedSourceOutputDirectory = file(querydslDir)
// }
//
// clean {
//     delete file(querydslDir)
// }
